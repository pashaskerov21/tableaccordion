<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/3cf65b98ce.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <div class="container py-5">
        <div class="table-wrapper">
            <div class="general-table">
                <div class="thead">
                    <div class="tr">
                        <div class="th"></div>
                        <div class="th">#</div>
                        <div class="th">Ad</div>
                        <div class="th">Soyad</div>
                        <div class="th">Email</div>
                        <div class="th">Nömrə</div>
                    </div>
                </div>
                <div class="tbody">
                    <div class="mr has-child">
                        <div class="tr">
                            <div class="td">
                                <button data-id="1"><i class="fa-solid fa-caret-down"></i></button>
                            </div>
                            <div class="td">1</div>
                            <div class="td">Pasa</div>
                            <div class="td">Askerov</div>
                            <div class="td">pasa@mail.com</div>
                            <div class="td">055 555 55 55</div>
                        </div>
                        <div class="sub-wrapper" data-parent="1">
                            <div class="general-table">
                                <div class="tbody">
                                    <div class="mr has-child">
                                        <div class="tr">
                                            <div class="td">
                                                <button data-id="1-1"><i class="fa-solid fa-caret-down"></i></button>
                                            </div>
                                            <div class="td">1.1</div>
                                            <div class="td">Pasa</div>
                                            <div class="td">Askerov</div>
                                            <div class="td">pasa@mail.com</div>
                                            <div class="td">055 555 55 55</div>
                                        </div>
                                        <div class="sub-wrapper" data-parent="1-1">
                                            <div class="general-table">
                                                <div class="tbody">
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="1-1-1"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">1.1.1</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="1-1-2"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">1.1.2</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="1-1-3"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">1.1.3</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mr has-child">
                                        <div class="tr">
                                            <div class="td">
                                                <button data-id="1-2"><i class="fa-solid fa-caret-down"></i></button>
                                            </div>
                                            <div class="td">1.2</div>
                                            <div class="td">Pasa</div>
                                            <div class="td">Askerov</div>
                                            <div class="td">pasa@mail.com</div>
                                            <div class="td">055 555 55 55</div>
                                        </div>
                                        <div class="sub-wrapper" data-parent="1-2">
                                            <div class="general-table">
                                                <div class="tbody">
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="1-2-1"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">1.2.1</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="1-2-2"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">1.2.2</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="1-2-3"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">1.2.3</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mr has-child">
                        <div class="tr">
                            <div class="td">
                                <button data-id="2"><i class="fa-solid fa-caret-down"></i></button>
                            </div>
                            <div class="td">2</div>
                            <div class="td">Pasa</div>
                            <div class="td">Askerov</div>
                            <div class="td">pasa@mail.com</div>
                            <div class="td">055 555 55 55</div>
                        </div>
                        <div class="sub-wrapper" data-parent="2">
                            <div class="general-table">
                                <div class="tbody">
                                    <div class="mr has-child">
                                        <div class="tr">
                                            <div class="td">
                                                <button data-id="2-1"><i class="fa-solid fa-caret-down"></i></button>
                                            </div>
                                            <div class="td">2.1</div>
                                            <div class="td">Pasa</div>
                                            <div class="td">Askerov</div>
                                            <div class="td">pasa@mail.com</div>
                                            <div class="td">055 555 55 55</div>
                                        </div>
                                        <div class="sub-wrapper" data-parent="2-1">
                                            <div class="general-table">
                                                <div class="tbody">
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="2-1-1"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">2.1.1</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="2-1-2"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">2.1.2</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="2-1-3"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">2.1.3</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mr has-child">
                                        <div class="tr">
                                            <div class="td">
                                                <button data-id="2-2"><i class="fa-solid fa-caret-down"></i></button>
                                            </div>
                                            <div class="td">2.2</div>
                                            <div class="td">Pasa</div>
                                            <div class="td">Askerov</div>
                                            <div class="td">pasa@mail.com</div>
                                            <div class="td">055 555 55 55</div>
                                        </div>
                                        <div class="sub-wrapper" data-parent="1-2">
                                            <div class="general-table">
                                                <div class="tbody">
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="2-2-1"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">2.2.1</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="2-2-2"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">2.2.2</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="2-2-3"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">2.2.3</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mr has-child">
                        <div class="tr">
                            <div class="td">
                                <button data-id="3"><i class="fa-solid fa-caret-down"></i></button>
                            </div>
                            <div class="td">3</div>
                            <div class="td">Pasa</div>
                            <div class="td">Askerov</div>
                            <div class="td">pasa@mail.com</div>
                            <div class="td">055 555 55 55</div>
                        </div>
                        <div class="sub-wrapper" data-parent="3">
                            <div class="general-table">
                                <div class="tbody">
                                    <div class="mr has-child">
                                        <div class="tr">
                                            <div class="td">
                                                <button data-id="3-1"><i class="fa-solid fa-caret-down"></i></button>
                                            </div>
                                            <div class="td">3.1</div>
                                            <div class="td">Pasa</div>
                                            <div class="td">Askerov</div>
                                            <div class="td">pasa@mail.com</div>
                                            <div class="td">055 555 55 55</div>
                                        </div>
                                        <div class="sub-wrapper" data-parent="3-1">
                                            <div class="general-table">
                                                <div class="tbody">
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="3-1-1"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">3.1.1</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="3-1-2"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">3.1.2</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="3-1-3"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">3.1.3</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mr has-child">
                                        <div class="tr">
                                            <div class="td">
                                                <button data-id="3-2"><i class="fa-solid fa-caret-down"></i></button>
                                            </div>
                                            <div class="td">3.2</div>
                                            <div class="td">Pasa</div>
                                            <div class="td">Askerov</div>
                                            <div class="td">pasa@mail.com</div>
                                            <div class="td">055 555 55 55</div>
                                        </div>
                                        <div class="sub-wrapper" data-parent="3-2">
                                            <div class="general-table">
                                                <div class="tbody">
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="3-2-1"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">3.2.1</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr no-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="3-2-2"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">3.2.2</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                    </div>
                                                    <div class="mr has-child">
                                                        <div class="tr">
                                                            <div class="td">
                                                                <button data-id="3-2-3"><i
                                                                        class="fa-solid fa-caret-down"></i></button>
                                                            </div>
                                                            <div class="td">3.2.3</div>
                                                            <div class="td">Pasa</div>
                                                            <div class="td">Askerov</div>
                                                            <div class="td">pasa@mail.com</div>
                                                            <div class="td">055 555 55 55</div>
                                                        </div>
                                                        <div class="sub-wrapper" data-parent="3-2-3">
                                                            <div class="general-table">
                                                                <div class="tbody">
                                                                    <div class="mr no-child">
                                                                        <div class="tr">
                                                                            <div class="td">
                                                                                <button data-id="3-2-3-1"><i
                                                                                        class="fa-solid fa-caret-down"></i></button>
                                                                            </div>
                                                                            <div class="td">3.2.1</div>
                                                                            <div class="td">Pasa</div>
                                                                            <div class="td">Askerov</div>
                                                                            <div class="td">pasa@mail.com</div>
                                                                            <div class="td">055 555 55 55</div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="mr no-child">
                                                                        <div class="tr">
                                                                            <div class="td">
                                                                                <button data-id="3-2-3-2"><i
                                                                                        class="fa-solid fa-caret-down"></i></button>
                                                                            </div>
                                                                            <div class="td">3.2.2</div>
                                                                            <div class="td">Pasa</div>
                                                                            <div class="td">Askerov</div>
                                                                            <div class="td">pasa@mail.com</div>
                                                                            <div class="td">055 555 55 55</div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="mr no-child">
                                                                        <div class="tr">
                                                                            <div class="td">
                                                                                <button data-id="3-2-3-3"><i
                                                                                        class="fa-solid fa-caret-down"></i></button>
                                                                            </div>
                                                                            <div class="td">3.2.3</div>
                                                                            <div class="td">Pasa</div>
                                                                            <div class="td">Askerov</div>
                                                                            <div class="td">pasa@mail.com</div>
                                                                            <div class="td">055 555 55 55</div>
                                                                        </div>
                                                                        
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- jQuery and SortableJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-sortablejs@latest/jquery-sortable.js"></script>
    <script>
        // table drag and drop
        $(document).ready(function () {
            $('.general-table .tbody').sortable({
                group: {
                    pull: false,
                    put: true
                },
                animation: 200,
                ghostClass: 'ghost',
                onSort: function(evt){
                    saveOrderFunction(evt.oldIndex, evt.newIndex);
                },
                handle: '.mr'
            });
        });
        function saveOrderFunction(oldIndex, newIndex){
            console.log(oldIndex)
            console.log(newIndex)
        }
    </script>
    <script>
        // table toggle 
        $(document).ready(function () {
            const btn = $('.mr.has-child button');

            btn.click(function () {
                const id = $(this).attr('data-id');
                const main = $(this).closest('.mr');
                const sub = $(`.sub-wrapper[data-parent="${id}"]`);

                $(this).toggleClass('active');
                main.toggleClass('active');
                sub.toggle();

            })
        })
    </script>
</body>

</html>